{% extends "base.html" %}

{% block styles %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/movies.css') }}">
{% endblock %}

{% block content %}
  {% if movies %}
    <table class="table">
      <colgroup>
        <col style="width: 60%">
        <col style="width: 25%">
        <col style="width: 15%">
      </colgroup>
      <thead>
        <th class="table__cell table__cell--header">Title</th>
        <th class="table__cell table__cell--header">Release date</th>
        <th class="table__cell table__cell--header"></th>
      </thead>
      <tbody>
        {% for movie in movies %}
        <tr>
          <td class="table__cell">
            <p class="table__movieTitle">{{movie.title}}</p>
            <p class="table__movieDirector">{{movie.director}}</p>
          </td>
          <td class="table__cell">{{movie.year}}</td>
          <td class="table__cell"><a href="{{url_for('movies.edit_movie', _id=movie._id)}}" class="table__link">View</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="table__empty">You haven't added your movies yet. <a href="{{url_for('movies.add_movie')}}" class="link">Add one!</a></p>
  {% endif %}

  <a href="{{url_for('movies.add_movie')}}" class="button button--add">
    <span>+</span>
  </a>
{% endblock %}